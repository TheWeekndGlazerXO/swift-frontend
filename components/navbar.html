<div class="navbar">
    <a href="/index.html" class="nav-logo">Swift</a>
  
    <div class="nav-links">
      <a href="/search.html">Search</a>
      <a href="/seller-dashboard.html" id="seller-link">Seller</a>
      <a href="/admin-dashboard.html" id="admin-link" style="display:none;">Admin</a>
      <a href="/login.html" id="login-link">Login</a>
      <a href="#" id="logout-link" style="display:none;">Logout</a>
    </div>
  </div>
  
  <style>
    .navbar {
      width: 100%;
      background: white;
      border-bottom: 1px solid #eee;
      padding: 12px 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 100;
    }
  
    .nav-links a {
      margin-left: 20px;
      text-decoration: none;
      font-weight: 500;
      color: black;
    }
  </style>
  
  <script type="module">
    import { supabase } from "/config.js";
    import { isAdmin } from "/auth.js";
  
    const adminLink = document.getElementById("admin-link");
    const loginLink = document.getElementById("login-link");
    const logoutLink = document.getElementById("logout-link");
  
    // auto-load user
    const { data } = await supabase.auth.getUser();
    const user = data.user;
  
    if (user) {
      // hide login
      loginLink.style.display = "none";
      logoutLink.style.display = "inline";
  
      // show admin link ONLY for you
      if (isAdmin(user)) {
        adminLink.style.display = "inline";
      }
    }
  
    logoutLink.onclick = async () => {
      await supabase.auth.signOut();
      window.location.href = "/index.html";
    };
  </script>
  